Container tagContainer(String tagName) {
    return Container(
      alignment: Alignment.center,
      height: 30,
      width: 65,
      decoration: BoxDecoration(
        color: currentColors['acc1'],
          border: Border.all(color: currentColors['acc1']!),
          borderRadius: BorderRadius.circular(10)),
      child: Text(
        "Hello",
        style: TextStyle(color: currentColors['text']),
      ),
    );
  }

  Container nameCard(BuildContext context, Image profilePhoto, String name, String desc) {
    return Container(
      padding: EdgeInsets.symmetric(horizontal: 3),
      height: 45,
      width: 350,
      decoration: BoxDecoration(
          border: Border.all(color: Colors.transparent),
          borderRadius: BorderRadius.circular(10)),
      child: Row(
        mainAxisAlignment: MainAxisAlignment.start,
        children: [
          ClipOval(
            child: InkWell(
              onTap: () {
                Utilityclass().navigator(
                    context,
                    profilePage(
                      currentColors: currentColors,
                      uid: "2u6hqirtZTdl7gBI85wUap9qJni1",
                    ));
              },
              splashColor: Colors.transparent,
              child: Image.asset(
                "lib/images/placeholder.jpg",
                width: 40,
                height: 40,
                fit: BoxFit.cover,
              ),
            ),
          ),
          SizedBox(width: 10),
          SingleChildScrollView(
            child: Column(
            mainAxisAlignment: MainAxisAlignment.spaceBetween,
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Text(
                name,
                style: TextStyle(
                    color: currentColors['text'],
                    fontWeight: FontWeight.bold),
              ),
              Text(desc,
                  style: TextStyle(
                    color: currentColors['text'],
                  ))
            ],
          ),
          ),
          Spacer(),
          Ink(
            decoration: ShapeDecoration(
              color: currentColors['acc2'],
                shape: CircleBorder(
                    side:
                        BorderSide(color: currentColors['acc2']!))),
            child: IconButton(
              onPressed: () {
                showModalBottomSheet(
                  elevation: 4.0,
                  backgroundColor: currentColors['bg'],
                    context: context,
                    builder: (BuildContext context) {
                      return CommentsSection(currentColorsComment: currentColors);
                    }
                );
              },
              icon: Icon(Icons.message),
              color: currentColors['text'],
              iconSize: 18,
              alignment: Alignment.center,
            ),
          ),
          Ink(
            decoration: ShapeDecoration(
              color: currentColors['acc2'],
                shape: CircleBorder(
                    side:
                        BorderSide(color: currentColors['acc2']!))),
            child: IconButton(
              onPressed: () {},
              icon: Icon(Icons.group),
              color: currentColors['text'],
              iconSize: 20,
              alignment: Alignment.center,
            ),
          )
        ],
      ),
    );
  }

  var data = doc.data() as Map<String, dynamic>;
    // Get the UID from the post
    String uid = data['sednerUid'] ?? ""; 
    
    // Only fetch if we have a UID and we haven't fetched this user yet
    if (uid.isNotEmpty && !_nicknameCache.containsKey(uid)) {
      
      // Go to 'profile' collection -> Find the document with that UID
      var profileDoc = await FirebaseFirestore.instance
          .collection('profile') 
          .doc(uid)
          .get();

      if (profileDoc.exists) {
        var profileData = profileDoc.data() as Map<String, dynamic>;
        // Save the nickname to our cache
        _nicknameCache[uid] = profileData['nickname'] ?? "Unknown Orca";
      }
    }